datasource postgresql {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id       Int     @id @default(autoincrement())
  nombre   String?
  apellido String?
  telefono String?
  email    String? @unique
  password String?
  role     Role?   @relation("Userrole", fields: [roleId], references: [id])
  roleId   Int?    @map("role")

  @@index([roleId])
}

model Product {
  id           Int            @id @default(autoincrement())
  articulo     String?
  nombre       String?
  descripcion  String?
  status       String?
  precio       Int?
  tipoDePrenda String?
  marca        String?
  imagen       ProductImage[] @relation("Product_imagen_many", references: [id])
  stock        Stock[]        @relation("Product_stock_many", references: [id])
}

model ProductImage {
  id                  Int       @id @default(autoincrement())
  image               Json?
  altText             String?
  from_Product_imagen Product[] @relation("Product_imagen_many", references: [id])
}

model Stock {
  id                 Int       @id @default(autoincrement())
  color              String?
  cantidadTalle0     Int?
  cantidadTalle1     Int?
  cantidadTalle2     Int?
  cantidadTalle3     Int?
  cantidadTalle4     Int?
  cantidadTalle5     Int?
  cantidadTalle6     Int?
  cantidadTalle7     Int?
  from_Product_stock Product[] @relation("Product_stock_many", references: [id])
}

model Role {
  id                Int      @id @default(autoincrement())
  name              String?
  canManageProducts Boolean?
  canSeeOtherUsers  Boolean?
  canManageUsers    Boolean?
  canManageRoles    Boolean?
  canManageCart     Boolean?
  canManageOrders   Boolean?
  assignedTo        User[]   @relation("Userrole")
}